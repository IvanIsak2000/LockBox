<h1 align="center">
LockBox
</h1>

<h3 align="center">
Простой self-hosted менеджер паролей
</h3>

[![wakatime](https://wakatime.com/badge/user/018ce029-5220-4722-881d-fc5406c5e923/project/039a8eb3-c6d8-43de-908f-883c1c3470a2.svg)](https://wakatime.com/badge/user/018ce029-5220-4722-881d-fc5406c5e923/project/039a8eb3-c6d8-43de-908f-883c1c3470a2)
  

## Задача 
Разработать клиент-серверное приложение для хранения и менеджмента паролей. Сделать максимально компактным и легких, в отличии от такой хуйни как `bitwarden`, который я возненавидел.


## Особенности
- HTTPS шифрование для трафика между сервером и клиентами.
- API_KEY для аутентификации клиента/клиентов
- sqlite3 база данных для сервера
- преимущество использование командой строки, в дальнейшем разработка GUI
- gnext сервер
- облегченная билиотека криптографии:
  - AES для шифрования данных
  - argon2 для шифрвания мастер пароля
- централизированное хранение паролей только на сервере
- во время разработки хранить исходный ключ в `MASTER.KEY`. Для продакшена - удалить такую возможность
- сервер не шифрует/дешифрует пароли, только передаёт их клиенту/клиентам по API
- всю шифровку/дешифровку выполняет сам клиент. Если клиентов несколько - требуется передать
каждому из клиентов оригинальный мастер пароль для самостоятельной шифровки/дешифровки


## Использование
### Сервер
1. Клонировать репозиторий на сервер
2. Сменить директорию на `server`:
```bash
cd server
```
3. Запустить серверную часть:
```bash
go run server.go
```
4.Получить API_KEY и сохранить его для клиента

### Клиент
1. Клонировать репозиторий на клиентское устройсто
2. Сменить директорию на `client`:
```bash
cd client
```
3. Записать полученный Вами API_KEY в `.env`:
```bash
cat ВАШ_API_KEY > .env
```
4. Запустить клиентсткую часть с одним из аргументов.
Для получения всех аргументов ввести:
```bash
go run client.go -h
```
5. Проверить соединение с Вашим сервером:
```bash
go run clieng.go --ping URL_ВАШЕГО_СЕРВЕРА
```
6. Авторизоваться в клиента:
```
go run client.go --login ЕСЛИ_У_ВАС_УЖЕ_ЕСТЬ_МАСТЕР_ПАРОЛЬ_ИСПОЛЬЗУЙТЕ_ЕГО_ИНАЧЕ_ПЕРЕДАЙТЕ_ЛЮБОЙ_СИМВОЛ_ДЛЯ_ГЕНЕРАЦИИ_НОВОГО
```

## FAQ
### Точно ли мои данные в безопасности?
Я не гарантирую, что проект будет полностью безопасен. Поэтому
вся отвественность лежит только на Вас. Поэтому не рекомендую хранить
ценную информацию тут, проект скорее обучающий. 

Однако в проекте используется надёжный стандарт криптографии:
AES + argon2. Этим стандартом пользуются все популярные менеджеры паролей.
Следовательно, получение Ваших данных через взлом шифров - самая 
маловероятная ситуация из возможных.

Главная опасность - раскрытие(компрометация) мастер пароля. 
Поэтому, храните его на другом устройсте либо на
том же устройстве, но в стороннем менеджере паролей
и никому, кроме своих клиентов, не передавайте.

### Что такое сервер?
Сервер - централизованное хранилище Ваших данных. Обычно
размещаемое на арендованном VPS. Найти сервер до 10$ - не проблема.
Сервер не знает Ваш мастер пароль, он занимается только менеджментов
Ваших данных в зашифрованном виде.

### Что такое клиент?
Клиент - устройство, на котором используется клиентская часть.
Рекомендуется использовать ПК. Клиент выполняет всю шифровку/дешифровку
данных, получаемых от сервера, с помощью мастер пароля.

### Что такое мастер пароль?
Мастер пароль - строка из букв из цифр, которую получает клиент
для шифровку/дешифровки данных. Для пустого проекта - генерируется сам
при вводе любого мастер пароля как аргумент для `--login`

Мастер пароль - САМАЯ ЦЕННАЯ ИНФОРМАЦИЯ. 

### Что такое `secret.key`?
Это файл, в котором записан хэш Вашего мастер пароля. Данные
из этого файла используются для проверки введённого Вами пароля при `--login`.

То есть введёный Вами пароль сначала хэшируется и сравнивает с данными из этого файла.
Если хэши совпадают, то программа клиент понимает, что Вы ввели тот самый мастер пароль
и введённый Вами пароль можно использовать для шифровки/дешифровки.

Раскрытие файла не представляет большую угрозу.

